this.JParticles=this.JParticles||{},this.JParticles.Snow=function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i,o,a,s=n(t),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function h(t,e){for(var n=0,i=e.length,o=t.length;n<i;n++,o++)t[o]=e[n];return t}return Function.prototype.toString.call(Object),/msie\s8.0/i.test(navigator.userAgent),function(t){t.DESTROY="DESTROY",t.RESIZE="RESIZE"}(i||(i={})),function(t){t.PROGRESS="PROGRESS",t.FINISHED="FINISHED"}(o||(o={})),function(t){t.FINISHED="FINISHED"}(a||(a={})),function(t){function n(e,i){var o=t.call(this,n.defaultConfig,e,i)||this;return o.startTime=Date.now(),o.isFinished=!1,o.bootstrap(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(n,t),n.prototype.init=function(){this.createSnowflakes()},n.prototype.createSnowflake=function(){var t=this.options,n=t.maxR,i=t.minR,o=t.maxSpeed,a=t.minSpeed,s=e.randomInRange(n,i);return{r:s,x:Math.random()*this.canvasWidth,y:-s,vx:e.randomSpeed(o,a),vy:Math.abs(s*e.randomSpeed(o,a)),color:this.getColor(),swingAt:Date.now(),shape:this.getShapeData()}},n.prototype.createSnowflakes=function(){for(var t=Math.max(0,Math.ceil(Math.random()*this.options.num));t--;)this.elements.push(this.createSnowflake())},n.prototype.draw=function(){var t=this,e=this,n=e.canvasWidth,i=e.canvasHeight,o=e.isPaused,s=this.options,r=s.maxR,h=s.swing,c=s.swingInterval,l=s.swingProbability,u=s.duration;(this.clearCanvasAndSetGlobalAttrs(),this.elements.forEach((function(e,a,s){var p=e.x,f=e.y,d=e.r;t.drawShape(e),o||(e.x+=e.vx,e.y+=e.vy,h&&Date.now()-e.swingAt>c&&Math.random()<d/r*l&&(e.swingAt=Date.now(),e.vx*=-1),p+d<0||p-d>n?u?s.splice(a,1):s.splice(a,1,t.createSnowflake()):f-d>i&&s.splice(a,1))})),o)||(!(!!u&&Date.now()-this.startTime>u)&&Math.random()>.9&&this.createSnowflakes(),this.elements.length?this.requestAnimationFrame():(this.isFinished=!0,this.eventEmitter.trigger(a.FINISHED)))},n.prototype.fallAgain=function(){this.isRunningSupported&&!this.isCanvasRemoved&&!this.isPaused&&this.isFinished&&(this.isFinished=!1,this.startTime=Date.now(),this.createSnowflakes(),this.draw())},n.prototype.onFinished=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.eventEmitter).on.apply(t,h([a.FINISHED],e)),this},n.defaultConfig={num:6,color:"#fff",maxR:6.5,minR:.5,maxSpeed:.6,minSpeed:.1,swing:!0,swingInterval:2e3,swingProbability:.06},n}(s.default)}(JParticles.classes.Shape,JParticles.utils);
